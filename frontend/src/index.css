@import "tailwindcss";

@theme {
  --color-sequencer-bg: #1a1a1a;
  --color-sequencer-grid: #2a2a2a;
  --color-sequencer-pad-off: #3a3a3a;
  --color-sequencer-pad-on: #4ade80;
  --color-sequencer-pad-hover: #4a5568;
  --color-sequencer-current: #fbbf24;
  --color-sequencer-control: #1f2937;
  
  --grid-cols-17: minmax(7rem, auto) repeat(16, minmax(0, 1fr));
  --grid-rows-8: repeat(8, minmax(0, 1fr));
}

@layer base {
  html, body {
    @apply bg-sequencer-bg text-white font-mono;
    margin: 0;
    padding: 0;
    height: 100%;
  }

  #root {
    @apply min-h-screen;
  }
}

@layer components {
  .sequencer-pad {
    @apply w-full border border-gray-700 cursor-pointer transition-all duration-150 flex items-center justify-center relative rounded-sm;
    aspect-ratio: 1 / 1; /* Maintains square aspect ratio */
  }

  .sequencer-pad:hover {
    @apply transform scale-105 brightness-110;
  }

  .sequencer-pad.active {
    @apply bg-sequencer-pad-on brightness-100 border-green-300 shadow-md;
  }

  .sequencer-pad.inactive {
    @apply bg-sequencer-pad-off brightness-50 border-gray-700;
  }

  .sequencer-pad.current-step {
    @apply brightness-150 scale-105;
  }

  /* Channel label column styling - no flexbox, just text alignment */
  .channel-label-col {
    @apply text-right pr-4;
    align-self: center;
  }

  .sequencer-controls {
    @apply bg-sequencer-control p-4 rounded-lg border border-gray-600;
  }

  .sequencer-button {
    @apply px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors duration-150 font-semibold;
  }

  .sequencer-button:disabled {
    @apply bg-gray-600 cursor-not-allowed;
  }

  .sequencer-input {
    @apply bg-gray-800 border border-gray-600 text-white px-3 py-1 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }

  /* Range slider styling */
  .slider {
    background: #374151;
  }

  .slider::-webkit-slider-thumb {
    @apply appearance-none w-4 h-4 bg-blue-500 rounded-full cursor-pointer border-2 border-white shadow-lg;
    transition: all 0.2s ease;
  }

  .slider::-webkit-slider-thumb:hover {
    @apply bg-blue-400 scale-110;
  }

  .slider::-moz-range-thumb {
    @apply w-4 h-4 bg-blue-500 rounded-full cursor-pointer border-2 border-white shadow-lg appearance-none;
    transition: all 0.2s ease;
  }

  .slider::-moz-range-thumb:hover {
    @apply bg-blue-400;
    transform: scale(1.1);
  }

  /* Boombox pulse animation - sharp pulse for 120 BPM */
  .boombox-pulse {
    animation: boombox-beat 500ms cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  }

  @keyframes boombox-beat {
    0% {
      transform: scale(1);
    }
    10% {
      transform: scale(1.15);
    }
    25% {
      transform: scale(1.08);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Sound wave animation */
  .sound-wave {
    display: inline-flex;
    align-items: center;
    gap: 2px;
  }

  .sound-wave .bar {
    @apply bg-green-400;
    width: 2px;
    border-radius: 1px;
    animation-timing-function: ease-in-out;
    animation-iteration-count: infinite;
    animation-direction: alternate;
  }

  .sound-wave .bar:nth-child(1) {
    height: 8px;
    animation: wave1 0.8s infinite;
  }

  .sound-wave .bar:nth-child(2) {
    height: 12px;
    animation: wave2 0.6s infinite;
  }

  .sound-wave .bar:nth-child(3) {
    height: 16px;
    animation: wave3 0.4s infinite;
  }

  .sound-wave .bar:nth-child(4) {
    height: 10px;
    animation: wave4 0.7s infinite;
  }

  .sound-wave .bar:nth-child(5) {
    height: 14px;
    animation: wave5 0.5s infinite;
  }

  @keyframes wave1 { to { height: 4px; } }
  @keyframes wave2 { to { height: 6px; } }
  @keyframes wave3 { to { height: 8px; } }
  @keyframes wave4 { to { height: 5px; } }
  @keyframes wave5 { to { height: 7px; } }
}
